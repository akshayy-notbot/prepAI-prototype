<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrepAI - AI Interview Coach</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .hidden { display: none; }
        .screen-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
        }
        .card {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .choice-button { transition: all 0.2s ease-in-out; }
        .choice-button:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        
        /* Onboarding section states */
        .selected { border-color: #3b82f6; background-color: #eff6ff; }
        .unselected { border-color: #d1d5db; background-color: white; }
        .disabled { opacity: 0.5; pointer-events: none; }
        
        /* Role and experience button states */
        .role-btn.selected, .experience-btn.selected {
            background-color: #3b82f6;
            color: white;
            transform: scale(1.02);
        }
        
        .role-btn.selected h4, .experience-btn.selected h4,
        .role-btn.selected p, .experience-btn.selected p {
            color: white;
        }
        
        /* Better hover states for selected buttons */
        .role-btn.selected:hover, .experience-btn.selected:hover {
            background-color: #2563eb !important; /* Darker blue on hover for selected */
            transform: scale(1.03);
        }
        
        /* Hover states for unselected buttons */
        .role-btn:not(.selected):hover, .experience-btn:not(.selected):hover {
            background-color: #f0f9ff;
            border-color: #93c5fd;
        }
        
        /* Enhanced Chat Interface Styles */
        .chat-message {
            animation: slideInUp 0.3s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .message-bubble {
            max-width: 85%;
            word-wrap: break-word;
            line-height: 1.6;
            background: #f8f9fa;
            color: #000000;
            border-radius: 8px;
            margin-left: auto;
        }
        
        .message-bubble.user {
            background: #f8f9fa;
            color: #000000;
            border-radius: 8px;
            margin-left: auto;
        }
        
        .message-bubble.ai {
            background: #f8f9fa;
            color: #000000;
            border-radius: 8px;
        }
        
        .message-bubble.system {
            background: #f8f9fa;
            color: #000000;
            border-radius: 8px;
            font-style: italic;
            max-width: 100%;
        }
        
        /* Professional Input Styles */
        .chat-input-container {
            position: relative;
            transition: all 0.2s ease;
        }
        
        .chat-input-container:focus-within {
            transform: translateY(-1px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
        }
        
        /* Inline Send Button Styles */
        #send-btn {
            transition: all 0.2s ease;
            border: 1px solid rgba(59, 130, 246, 0.2);
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        #send-btn:disabled {
            opacity: 0.6;
            border-color: rgba(156, 163, 175, 0.3);
        }
        
        /* Textarea focus state enhancement */
        #chat-input:focus + #send-btn {
            border-color: rgba(59, 130, 246, 0.4);
            box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.1);
        }
        
        /* Ensure textarea has proper height for single line */
        #chat-input {
            min-height: 44px;
            line-height: 1.5;
        }
        
        /* Exit Interview Button Styles */
        #end-interview-btn {
            font-weight: 500;
            opacity: 0.8;
        }
        
        #end-interview-btn:hover {
            opacity: 1;
        }
        

        
        /* Loading States */
        .loading-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        
        /* Professional Button Hover Effects */
        .btn-hover-lift {
            transition: all 0.2s ease;
        }
        
        .btn-hover-lift:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        /* Enhanced Focus States */
        .focus-ring {
            transition: all 0.2s ease;
        }
        
        .focus-ring:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .message-bubble {
                max-width: 90%;
            }
            
            .chat-input-container {
                margin: 0 -1rem;
            }
            
            #chat-window {
                height: 60vh;
            }
            
            .chat-message {
                gap: 3;
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="app-container" class="container mx-auto max-w-3xl">

        <!-- Act I, Scene 1: Homepage -->
        <div id="homepage-screen" class="screen-container">
            <div class="max-w-5xl mx-auto">
                <!-- Hero Section -->
                <div class="card text-center mb-8">
                    <div class="mb-6">
                        <div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                            </svg>
                        </div>
                        <h1 class="text-4xl md:text-6xl font-bold text-gray-900 leading-tight">
                            Go from Interview Anxiety to a 
                            <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600">Confident "Yes"</span>
                        </h1>
                        <p class="text-xl text-gray-600 mt-6 max-w-3xl mx-auto leading-relaxed">
                            Practice with our AI-powered interviewer, get instant, actionable feedback, and ace the hiring process for your dream job.
                        </p>
                    </div>
                    
                    <!-- Key Benefits -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="text-center p-4">
                            <div class="w-12 h-12 mx-auto mb-3 bg-blue-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-800 mb-2">Instant Feedback</h3>
                            <p class="text-sm text-gray-600">Get detailed analysis and improvement suggestions immediately</p>
                        </div>
                        <div class="text-center p-4">
                            <div class="w-12 h-12 mx-auto mb-3 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-800 mb-2">AI-Powered</h3>
                            <p class="text-sm text-gray-600">Advanced AI that adapts to your role and experience level</p>
                        </div>
                        <div class="text-center p-4">
                            <div class="w-12 h-12 mx-auto mb-3 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <h3 class="font-semibold text-gray-800 mb-2">Practice Anytime</h3>
                            <p class="text-sm text-gray-600">24/7 availability for unlimited interview practice</p>
                        </div>
                    </div>

                    <!-- CTA Button -->
                    <button id="start-onboarding-btn" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-5 px-10 rounded-xl hover:from-blue-700 hover:to-purple-700 transform hover:scale-105 transition-all duration-300 text-xl shadow-lg hover:shadow-xl">
                        Start Your First Free Mock Interview
                    </button>
                    
                    <!-- Trust Indicators -->
                    <div class="mt-8">
                        <p class="text-sm text-gray-500 uppercase tracking-wider mb-3">TRUSTED BY CANDIDATES HIRED AT</p>
                        <div class="flex justify-center items-center gap-8 mb-4">
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 bg-gray-100 rounded-lg flex items-center justify-center">
                                    <span class="font-bold text-gray-700 text-lg">G</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-600">Google</span>
                            </div>
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 bg-gray-100 rounded-lg flex items-center justify-center">
                                    <span class="font-bold text-gray-700 text-lg">A</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-600">Amazon</span>
                            </div>
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 bg-gray-100 rounded-lg flex items-center justify-center">
                                    <span class="font-bold text-gray-700 text-lg">M</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-600">Meta</span>
                            </div>
                            <div class="text-center">
                                <div class="w-12 h-12 mx-auto mb-2 bg-gray-100 rounded-lg flex items-center justify-center">
                                    <span class="font-bold text-gray-700 text-lg">N</span>
                                </div>
                                <span class="text-sm font-semibold text-gray-600">Netflix</span>
                            </div>
                        </div>
                        
                        <!-- Success Metrics -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 pt-8 border-t border-gray-200">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-blue-600 mb-1">95%</div>
                                <div class="text-sm text-gray-600">Success Rate</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-purple-600 mb-1">10K+</div>
                                <div class="text-sm text-gray-600">Interviews Completed</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-green-600 mb-1">4.9/5</div>
                                <div class="text-sm text-gray-600">User Rating</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Act I, Scene 2: Enhanced Onboarding - All in One -->
        <div id="onboarding-screen" class="hidden screen-container">
            <div class="card max-w-4xl">
                <h2 class="text-3xl font-bold text-gray-900 text-center mb-8">Let's Personalize Your Interview Experience</h2>
                
                <!-- Role Selection Section -->
                <div id="role-section" class="mb-8 p-6 border-2 border-gray-200 rounded-lg transition-all duration-300 unselected">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">1. What role are you preparing for?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button onclick="handleRoleSelect('Product Manager')" data-value="Product Manager" class="role-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Product Manager</h4>
                            <p class="text-sm text-gray-600 mt-1">Product strategy, user research, metrics</p>
                        </button>
                        <button onclick="handleRoleSelect('Software Engineer')" data-value="Software Engineer" class="role-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Software Engineer</h4>
                            <p class="text-sm text-gray-600 mt-1">Coding, system design, algorithms</p>
                        </button>
                        <button onclick="handleRoleSelect('Data Analyst')" data-value="Data Analyst" class="role-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Data Analyst</h4>
                            <p class="text-sm text-gray-600 mt-1">Data analysis, SQL, visualization</p>
                        </button>
                    </div>
                </div>

                <!-- Experience Selection Section -->
                <div id="experience-section" class="mb-8 p-6 border-2 border-gray-200 rounded-lg transition-all duration-300 unselected disabled">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">2. What's your experience level?</h3>
                    <p class="text-gray-600 mb-4">This helps us calibrate the difficulty and type of questions.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <button onclick="handleExperienceSelect('Student/Intern')" data-value="Student/Intern" class="experience-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Student / Intern</h4>
                            <p class="text-sm text-gray-600 mt-1">Entry-level questions and concepts</p>
                        </button>
                        <button onclick="handleExperienceSelect('Junior / Mid-Level')" data-value="Junior / Mid-Level" class="experience-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Junior / Mid-Level</h4>
                            <p class="text-sm text-gray-600 mt-1">Practical experience and problem-solving</p>
                        </button>
                        <button onclick="handleExperienceSelect('Senior')" data-value="Senior" class="experience-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Senior</h4>
                            <p class="text-sm text-gray-600 mt-1">Leadership and complex scenarios</p>
                        </button>
                        <button onclick="handleExperienceSelect('Manager / Lead')" data-value="Manager / Lead" class="experience-btn choice-button p-4 bg-gray-100 rounded-lg text-left transition-all duration-200">
                            <h4 class="font-semibold text-gray-800">Manager / Lead</h4>
                            <p class="text-sm text-gray-600 mt-1">Team leadership and strategy</p>
                        </button>
                    </div>
                </div>

                <!-- Skills Selection Section -->
                <div id="skills-section" class="mb-8 p-6 border-2 border-gray-200 rounded-lg transition-all duration-300 hidden">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">3. What skills would you like to practice?</h3>
                    <p class="text-gray-600 mb-4">Select the skills you want to focus on during your interview practice.</p>
                    <div id="skills-options" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        <!-- Skills will be populated dynamically based on role and experience -->
                    </div>
                </div>

                <!-- Continue Button -->
                <div class="text-center">
                    <button id="onboarding-continue-btn" class="bg-blue-600 text-white font-bold py-4 px-8 rounded-lg hover:bg-blue-700 transition duration-300 text-lg opacity-50 cursor-not-allowed" disabled>
                        Continue to Dashboard
                    </button>
                </div>
            </div>
        </div>

        <!-- Act II: The Preparation Hub (Dashboard) -->
        <div id="dashboard-screen" class="hidden screen-container">
            <div class="card w-full">
                <h2 class="text-3xl font-bold text-gray-900">Your Preparation Hub</h2>
                <div class="mt-6 p-6 bg-blue-50 border border-blue-200 rounded-lg">
                    <h3 class="text-xl font-bold text-blue-800">Your Personalized Mock Interview is Ready</h3>
                    <p id="dashboard-role-company" class="text-blue-600 mt-1"></p>
                    <p class="text-sm text-blue-700 mt-2">Practice with our AI interviewer through text-based conversation</p>
                    <button id="go-to-interview-prep-btn" class="mt-4 bg-blue-600 text-white font-bold py-3 px-5 rounded-md hover:bg-blue-700 transition duration-300">Start Interview</button>
                </div>
                <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="p-6 bg-gray-50 rounded-lg border">
                        <h4 class="font-bold text-gray-800">Key Skills to Practice</h4>
                        <ul id="key-skills-list" class="mt-3 text-gray-600 list-disc list-inside">
                            <li class="animate-pulse">Analyzing job description...</li>
                        </ul>
                    </div>
                    <div class="p-6 bg-gray-50 rounded-lg border">
                        <h4 class="font-bold text-gray-800">Quick Drills</h4>
                        <p class="mt-3 text-gray-600">Practice your "Tell Me About Yourself" pitch. (Coming Soon)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Act III, Scene 1: Interview Preparation -->
        <div id="interview-prep-screen" class="hidden screen-container">
            <div class="card text-center">
                <h2 class="text-3xl font-bold text-gray-900">Ready to Begin Your Interview?</h2>
                <p class="text-lg text-gray-600 mt-4">You'll be having a text-based conversation with our AI interviewer.</p>
                <div class="my-6 p-6 bg-blue-50 border border-blue-200 rounded-lg">
                    <h3 class="text-lg font-bold text-blue-800">Interview Format</h3>
                    <ul class="text-left text-blue-700 mt-3 space-y-2">
                        <li>• Text-based questions and answers</li>
                        <li>• Take your time to think and respond</li>
                        <li>• Use the notepad to jot down thoughts</li>
                        <li>• Focus on demonstrating your skills</li>
                        <li>• Press Enter to send, Shift+Enter for new lines</li>
                    </ul>
                </div>
                <div class="p-4 bg-yellow-50 text-yellow-800 rounded-lg mb-6">
                    <p><span class="font-bold">Pro Tip:</span> Think of this as a written conversation. You can edit your responses before sending, take time to structure your thoughts, and reference the notepad for key points.</p>
                </div>
                <div class="p-4 bg-green-50 text-green-800 rounded-lg">
                    <p><span class="font-bold">Remember:</span> This is a practice field. The goal is progress, not perfection. Take a deep breath. You're ready.</p>
                </div>
                <button id="start-interview-btn" class="mt-8 w-full bg-green-600 text-white font-bold py-3 px-4 rounded-md hover:bg-green-700 transition duration-300">Begin Interview</button>
            </div>
        </div>

        <!-- Act III, Scene 2: The Interview -->
        <div id="interview-screen" class="hidden screen-container">
            <div class="max-w-4xl mx-auto w-full">
                <!-- Interview Screen Header -->
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6">
                    <div class="flex justify-between items-start">
                        <div class="flex-1">
                            <h2 class="text-2xl font-bold text-gray-900 mb-2">AI Interview Session</h2>
                            <p class="text-gray-600">Take your time to think and answer thoughtfully</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm font-semibold text-gray-600 mb-2">Interview Duration</div>
                            <div id="timer" class="text-4xl font-mono font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">00:00</div>
                        </div>
                    </div>
                </div>

                <!-- Main Chat Area -->
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden">
                    <!-- Professional Chat Header -->
                    <div class="px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8s9 3.582 9 8-9-8-9-8z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-900 text-lg">AI Interview Session</h3>
                                    <p class="text-sm text-gray-600" id="question-status">Ready to begin...</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div id="question-loader" class="hidden">
                                    <div class="flex items-center space-x-1">
                                        <div class="w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"></div>
                                        <div class="w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                                        <div class="w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                                    </div>
                                </div>
                                <button 
                                    id="end-interview-btn" 
                                    class="text-gray-500 hover:text-gray-700 hover:bg-gray-100 py-2 px-3 rounded-lg transition duration-200 flex items-center gap-2"
                                    title="Exit Interview"
                                >
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                    <span class="text-xs font-medium">Exit</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Professional Chat Messages Container -->
                    <div id="chat-window" class="px-6 py-6 h-96 overflow-y-auto flex flex-col gap-6 bg-white">
                        <!-- Welcome message -->
                        <div class="text-center py-12 text-gray-600">
                            <div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl flex items-center justify-center">
                                <svg class="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8s9 3.582 9 8-9-8-9-8z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">Interview Session Initializing</h3>
                            <p class="text-gray-500">Preparing your personalized interview experience...</p>
                        </div>
                    </div>

                    <!-- Professional Input Area -->
                    <div class="px-6 py-4 border-t border-gray-200 bg-gray-50">

                        
                        <!-- Professional Input with Inline Send Button -->
                        <div class="relative">
                            <textarea 
                                id="chat-input" 
                                class="w-full py-2 px-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none transition-all duration-200 font-medium text-gray-800 placeholder-gray-400" 
                                rows="1" 
                                placeholder="Provide your detailed response to the interview question..." 
                                disabled
                                maxlength="2000"
                            ></textarea>
                            <button 
                                id="send-btn" 
                                class="absolute right-3 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed rounded-lg transition-all duration-200 flex items-center justify-center shadow-sm"
                                disabled
                                title="Send message"
                            >
                                <svg id="send-btn-icon" class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- Professional Loading States -->
                        <div id="input-loading-states" class="mt-4 space-y-3">
                            <!-- Typing Indicator -->
                            <div id="typing-indicator" class="hidden flex items-center space-x-3 text-sm text-gray-600 bg-white px-4 py-3 rounded-lg border border-gray-200">
                                <div class="flex space-x-1">
                                    <div class="w-2 h-2 bg-blue-600 rounded-full animate-bounce"></div>
                                    <div class="w-2 h-2 bg-blue-600 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                                    <div class="w-2 h-2 bg-blue-600 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                                </div>
                                <span class="font-medium">AI is analyzing your response...</span>
                            </div>
                            
                            <!-- Processing Indicator -->
                            <div id="processing-indicator" class="hidden flex items-center space-x-3 text-sm text-blue-600 bg-blue-50 px-4 py-3 rounded-lg border border-blue-200">
                                <div class="w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"></div>
                                <span class="font-medium">Processing your answer...</span>
                            </div>
                            
                            <!-- Success Indicator -->
                            <div id="success-indicator" class="hidden flex items-center space-x-3 text-sm text-green-600 bg-green-50 px-4 py-3 rounded-lg border border-green-200">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <span class="font-medium">Response submitted successfully</span>
                            </div>
                        </div>
                        

                    </div>
                </div>
                

            </div>
        </div>

        <!-- Act IV: Analysis Loader -->
        <div id="analysis-screen" class="hidden screen-container">
            <div class="card text-center">
                 <h2 class="text-3xl font-bold text-gray-900 mb-4">Analyzing Your Performance...</h2>
                 <p class="text-lg text-gray-600 mb-8">Generating your personalized feedback report.</p>
                 <div class="flex justify-center"><div class="loader"></div></div>
            </div>
        </div>

        <!-- Act IV: Feedback Report -->
        <div id="feedback-screen" class="hidden screen-container">
            <div class="card">
                <h2 class="text-3xl font-bold text-gray-900 mb-6 text-center">Your Actionable Feedback Report</h2>
                <div id="feedback-output" class="space-y-6"></div>
                <button onclick="restart()" class="mt-8 w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-md hover:bg-blue-700">Start a New Interview</button>
            </div>
        </div>

    </div>

    <!-- Professional Message Templates (Hidden) -->
    <template id="message-template">
        <div class="chat-message flex gap-4 mb-6">
            <div class="flex-shrink-0">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center">
                    <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8s9 3.582 9 8-9-8-9-8z"></path>
                    </svg>
                </div>
            </div>
            <div class="flex-grow">
                <div class="message-bubble p-4 rounded-xl">
                    <div class="message-content text-gray-800 leading-relaxed"></div>
                    <div class="message-meta text-xs text-gray-500 mt-3 font-mono"></div>
                </div>
            </div>
        </div>
    </template>

    <!-- Professional Loading Message Template -->
    <template id="loading-template">
        <div class="chat-message flex gap-4 mb-6">
            <div class="flex-shrink-0">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center">
                    <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                    </svg>
                </div>
            </div>
            <div class="flex-grow">
                <div class="message-bubble ai p-4 rounded-xl">
                    <div class="flex items-center space-x-3">
                        <div class="w-2 h-2 bg-white rounded-full animate-bounce"></div>
                        <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                        <div class="w-2 h-2 bg-white rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        <span class="ml-2 text-white font-medium">AI is analyzing...</span>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Professional Error Message Template -->
    <template id="error-template">
        <div class="chat-message flex gap-4 mb-6">
            <div class="flex-shrink-0">
                <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-red-100 to-pink-100 flex items-center justify-center">
                    <svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
            </div>
            <div class="flex-grow">
                <div class="message-bubble system p-4 rounded-xl">
                    <div class="message-content text-red-700 font-medium"></div>
                    <div class="message-meta text-xs opacity-75 mt-3">
                        <button class="text-red-600 hover:text-red-800 underline font-medium retry-btn">Retry</button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <script src="config.js"></script>
    <script src="app.js"></script>